<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">

      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Add a new album</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-item>
    <ion-label>Albums</ion-label>
    <ion-select value="peperoni" placeholder="Select Album">
      <ion-select-option value="{{album.id}}" *ngFor="let album of albums$|async">{{album.title}}</ion-select-option>
    
    </ion-select>
  </ion-item>
  <ion-card>

    <ion-card-content>
      <form [formGroup]="newAlbumForm" (ngSubmit)="addNewAlbum($event)">

      <ion-item>
        <ion-label position="floating" for="title">
      Title
    </ion-label>
    <ion-input type="text" id="title" formControlName="title" >

    </ion-input>
    <ion-note >Min:3 - Max:30 characters</ion-note>
  </ion-item>
  <ion-item>
    <ion-label position="floating" for="description">Description</ion-label>
    <ion-textarea id="description" formControlName="description">

    </ion-textarea>
  </ion-item>

        <br />
  <ion-chip for="is_public">
<ion-label  [ngStyle]="{'margin-right':'10px'}">Private: </ion-label>
    <ion-toggle formControlName="is_public" id="is_public"  ></ion-toggle>
  </ion-chip>
        <br />
        <br />

        <ion-button 
          type="submit"
          [disabled]="!newAlbumForm.valid || isSending"
          ><ion-spinner name="bubbles" *ngIf="isSending"></ion-spinner> {{isSending ? 'creating':'Create'}}
        </ion-button>
      </form>

    </ion-card-content>  
    </ion-card>
</ion-content>
